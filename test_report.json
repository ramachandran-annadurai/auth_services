{
  "timestamp": "2025-09-01T18:04:15.224503",
  "service": "Patient & Doctor Auth Service",
  "version": "1.0.0",
  "test_results": {
    "security": {
      "status": "PASSED",
      "passed": 12,
      "failed": 0,
      "total": 12,
      "details": [
        {
          "name": "TestSecurity",
          "status": "PASSED"
        },
        {
          "name": "TestSecurity",
          "status": "PASSED"
        },
        {
          "name": "TestSecurity",
          "status": "PASSED"
        },
        {
          "name": "TestSecurity",
          "status": "PASSED"
        },
        {
          "name": "TestSecurity",
          "status": "PASSED"
        },
        {
          "name": "TestSecurity",
          "status": "PASSED"
        },
        {
          "name": "TestSecurity",
          "status": "PASSED"
        },
        {
          "name": "TestSecurity",
          "status": "PASSED"
        },
        {
          "name": "TestSecurity",
          "status": "PASSED"
        },
        {
          "name": "TestSecurity",
          "status": "PASSED"
        },
        {
          "name": "TestSecurity",
          "status": "PASSED"
        },
        {
          "name": "TestSecurity",
          "status": "PASSED"
        }
      ],
      "output": "      [  8%]\ntests/test_security.py::TestSecurity::test_hash_password_different_salts PASSED [ 16%]\ntests/test_security.py::TestSecurity::test_verify_password_correct PASSED [ 25%]\ntests/test_security.py::TestSecurity::test_verify_password_incorrect PASSED [ 33%]\ntests/test_security.py::TestSecurity::test_verify_password_empty PASSED  [ 41%]\ntests/test_security.py::TestSecurity::test_create_access_token PASSED    [ 50%]\ntests/test_security.py::TestSecurity::test_create_access_token_doctor PASSED [ 58%]\ntests/test_security.py::TestSecurity::test_verify_token_valid PASSED     [ 66%]\ntests/test_security.py::TestSecurity::test_verify_token_invalid PASSED   [ 75%]\ntests/test_security.py::TestSecurity::test_verify_token_expired PASSED   [ 83%]\ntests/test_security.py::TestSecurity::test_verify_token_wrong_secret PASSED [ 91%]\ntests/test_security.py::TestSecurity::test_password_security_requirements PASSED [100%]\n\n============================= 12 passed in 2.69s ==============================\n"
    },
    "config": {
      "status": "ERROR",
      "passed": 0,
      "failed": 0,
      "total": 0,
      "error": "",
      "output": "============================= test session starts =============================\nplatform win32 -- Python 3.11.9, pytest-7.4.3, pluggy-1.6.0 -- C:\\Users\\LogicalMinds\\AppData\\Local\\Microsoft\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\python.exe\ncachedir: .pytest_cache\nrootdir: E:\\practice\\mobile-patient-backend\\patient-auth-service\nconfigfile: pytest.ini\nplugins: anyio-3.7.1, langsmith-0.4.8, asyncio-0.21.1, cov-4.1.0\nasyncio: mode=Mode.STRICT\ncollecting ... collected 13 items\n\ntests/test_config.py::TestConfig::test_config_with_env_vars PASSED       [  7%]\ntests/test_config.py::TestConfig::test_config_with_defaults PASSED       [ 15%]\ntests/test_config.py::TestConfig::test_config_without_json_file FAILED   [ 23%]\ntests/test_config.py::TestConfig::test_config_json_override PASSED       [ 30%]\ntests/test_config.py::TestConfig::test_config_email_settings PASSED      [ 38%]\ntests/test_config.py::TestConfig::test_port_environment_override PASSED  [ 46%]\ntests/test_config.py::TestConfig::test_debug_environment_variable PASSED [ 53%]\ntests/test_config.py::TestConfig::test_debug_false_environment_variable PASSED [ 61%]\ntests/test_config.py::TestConfig::test_debug_from_json PASSED            [ 69%]\ntests/test_config.py::TestConfig::test_get_method PASSED                 [ 76%]\ntests/test_config.py::TestConfig::test_get_method_with_invalid_path PASSED [ 84%]\ntests/test_config.py::TestConfig::test_service_configuration PASSED      [ 92%]\ntests/test_config.py::TestConfig::test_all_properties_accessible PASSED  [100%]\n\n================================== FAILURES ===================================\n__________________ TestConfig.test_config_without_json_file ___________________\ntests\\test_config.py:48: in test_config_without_json_file\n    config = Config()\napp\\utils\\config.py:10: in __init__\n    load_dotenv()\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\dotenv\\main.py:346: in load_dotenv\n    return dotenv.set_as_environment_variables()\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\dotenv\\main.py:91: in set_as_environment_variables\n    if not self.dict():\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\dotenv\\main.py:75: in dict\n    self._dict = OrderedDict(resolve_variables(raw_values, override=self.override))\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\dotenv\\main.py:233: in resolve_variables\n    for (name, value) in values:\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\dotenv\\main.py:82: in parse\n    with self._get_stream() as stream:\nC:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\contextlib.py:137: in __enter__\n    return next(self.gen)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\dotenv\\main.py:55: in _get_stream\n    with open(self.dotenv_path, encoding=self.encoding) as stream:\nC:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\unittest\\mock.py:1124: in __call__\n    return self._mock_call(*args, **kwargs)\nC:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\unittest\\mock.py:1128: in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\nC:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\unittest\\mock.py:1183: in _execute_mock_call\n    raise effect\nE   FileNotFoundError\n=========================== short test summary info ===========================\nFAILED tests/test_config.py::TestConfig::test_config_without_json_file - File...\n======================== 1 failed, 12 passed in 0.45s =========================\n"
    },
    "email_service": {
      "status": "ERROR",
      "passed": 0,
      "failed": 0,
      "total": 0,
      "error": "",
      "output": "============================= test session starts =============================\nplatform win32 -- Python 3.11.9, pytest-7.4.3, pluggy-1.6.0 -- C:\\Users\\LogicalMinds\\AppData\\Local\\Microsoft\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\python.exe\ncachedir: .pytest_cache\nrootdir: E:\\practice\\mobile-patient-backend\\patient-auth-service\nconfigfile: pytest.ini\nplugins: anyio-3.7.1, langsmith-0.4.8, asyncio-0.21.1, cov-4.1.0\nasyncio: mode=Mode.STRICT\ncollecting ... collected 5 items\n\ntests/test_email_service.py::TestEmailService::test_send_otp_email_success FAILED [ 20%]\ntests/test_email_service.py::TestEmailService::test_send_password_reset_email_success FAILED [ 40%]\ntests/test_email_service.py::TestEmailService::test_send_otp_email_smtp_error PASSED [ 60%]\ntests/test_email_service.py::TestEmailService::test_send_password_reset_email_smtp_error PASSED [ 80%]\ntests/test_email_service.py::TestEmailService::test_email_content_format FAILED [100%]\n\n================================== FAILURES ===================================\n________________ TestEmailService.test_send_otp_email_success _________________\ntests\\test_email_service.py:37: in test_send_otp_email_success\n    assert \"123456\" in sent_message.get_payload()\nE   AssertionError: assert '123456' in [<email.mime.text.MIMEText object at 0x0000012DD5C63190>]\nE    +  where [<email.mime.text.MIMEText object at 0x0000012DD5C63190>] = <bound method Message.get_payload of <email.mime.multipart.MIMEMultipart object at 0x0000012DD5B3A2D0>>()\nE    +    where <bound method Message.get_payload of <email.mime.multipart.MIMEMultipart object at 0x0000012DD5B3A2D0>> = <email.mime.multipart.MIMEMultipart object at 0x0000012DD5B3A2D0>.get_payload\n___________ TestEmailService.test_send_password_reset_email_success ___________\ntests\\test_email_service.py:52: in test_send_password_reset_email_success\n    assert \"654321\" in sent_message.get_payload()\nE   AssertionError: assert '654321' in [<email.mime.text.MIMEText object at 0x0000012DD5D33D90>]\nE    +  where [<email.mime.text.MIMEText object at 0x0000012DD5D33D90>] = <bound method Message.get_payload of <email.mime.multipart.MIMEMultipart object at 0x0000012DD5B3AB10>>()\nE    +    where <bound method Message.get_payload of <email.mime.multipart.MIMEMultipart object at 0x0000012DD5B3AB10>> = <email.mime.multipart.MIMEMultipart object at 0x0000012DD5B3AB10>.get_payload\n_________________ TestEmailService.test_email_content_format __________________\ntests\\test_email_service.py:94: in test_email_content_format\n    assert test_otp in email_body\nE   AssertionError: assert '987654' in [<email.mime.text.MIMEText object at 0x0000012DD5D43C50>]\n=========================== short test summary info ===========================\nFAILED tests/test_email_service.py::TestEmailService::test_send_otp_email_success\nFAILED tests/test_email_service.py::TestEmailService::test_send_password_reset_email_success\nFAILED tests/test_email_service.py::TestEmailService::test_email_content_format\n========================= 3 failed, 2 passed in 0.76s =========================\n"
    },
    "auth_routes": {
      "status": "ERROR",
      "passed": 0,
      "failed": 0,
      "total": 0,
      "error": "",
      "output": "============================= test session starts =============================\nplatform win32 -- Python 3.11.9, pytest-7.4.3, pluggy-1.6.0 -- C:\\Users\\LogicalMinds\\AppData\\Local\\Microsoft\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\python.exe\ncachedir: .pytest_cache\nrootdir: E:\\practice\\mobile-patient-backend\\patient-auth-service\nconfigfile: pytest.ini\nplugins: anyio-3.7.1, langsmith-0.4.8, asyncio-0.21.1, cov-4.1.0\nasyncio: mode=Mode.STRICT\ncollecting ... collected 17 items\n\ntests/test_auth_routes.py::TestAuthRoutes::test_health_check PASSED      [  5%]\ntests/test_auth_routes.py::TestAuthRoutes::test_root_endpoint PASSED     [ 11%]\ntests/test_auth_routes.py::TestAuthRoutes::test_register_patient_success PASSED [ 17%]\ntests/test_auth_routes.py::TestAuthRoutes::test_register_doctor_success PASSED [ 23%]\ntests/test_auth_routes.py::TestAuthRoutes::test_register_validation_error PASSED [ 29%]\ntests/test_auth_routes.py::TestAuthRoutes::test_register_service_error FAILED [ 35%]\ntests/test_auth_routes.py::TestAuthRoutes::test_login_patient_success FAILED [ 41%]\ntests/test_auth_routes.py::TestAuthRoutes::test_login_doctor_success FAILED [ 47%]\ntests/test_auth_routes.py::TestAuthRoutes::test_login_with_email FAILED  [ 52%]\ntests/test_auth_routes.py::TestAuthRoutes::test_login_invalid_credentials FAILED [ 58%]\ntests/test_auth_routes.py::TestAuthRoutes::test_send_otp_success PASSED  [ 64%]\ntests/test_auth_routes.py::TestAuthRoutes::test_verify_otp_success PASSED [ 70%]\ntests/test_auth_routes.py::TestAuthRoutes::test_verify_otp_invalid PASSED [ 76%]\ntests/test_auth_routes.py::TestAuthRoutes::test_forgot_password_success PASSED [ 82%]\ntests/test_auth_routes.py::TestAuthRoutes::test_reset_password_success PASSED [ 88%]\ntests/test_auth_routes.py::TestAuthRoutes::test_validate_token_success PASSED [ 94%]\ntests/test_auth_routes.py::TestAuthRoutes::test_invalid_endpoint PASSED  [100%]\n\n================================== FAILURES ===================================\n_________________ TestAuthRoutes.test_register_service_error __________________\ntests\\test_auth_routes.py:119: in test_register_service_error\n    response = client.post(\"/auth/register\", json=patient_data)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\testclient.py:590: in post\n    return super().post(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:1132: in post\n    return self.request(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\testclient.py:465: in request\n    return super().request(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:814: in request\n    return self.send(request, auth=auth, follow_redirects=follow_redirects)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:901: in send\n    response = self._send_handling_auth(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:929: in _send_handling_auth\n    response = self._send_handling_redirects(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:966: in _send_handling_redirects\n    response = self._send_single_request(request)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:1002: in _send_single_request\n    response = transport.handle_request(request)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\testclient.py:342: in handle_request\n    raise exc\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\testclient.py:339: in handle_request\n    portal.call(self.app, scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\anyio\\from_thread.py:277: in call\n    return cast(T_Retval, self.start_task_soon(func, *args).result())\nC:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py:449: in result\n    return self.__get_result()\nC:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py:401: in __get_result\n    raise self._exception\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\anyio\\from_thread.py:217: in _call_func\n    retval = await retval\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\applications.py:1106: in __call__\n    await super().__call__(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\applications.py:122: in __call__\n    await self.middleware_stack(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\errors.py:184: in __call__\n    raise exc\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\errors.py:162: in __call__\n    await self.app(scope, receive, _send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\cors.py:83: in __call__\n    await self.app(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\exceptions.py:79: in __call__\n    raise exc\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\exceptions.py:68: in __call__\n    await self.app(scope, receive, sender)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\middleware\\asyncexitstack.py:20: in __call__\n    raise e\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\middleware\\asyncexitstack.py:17: in __call__\n    await self.app(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\routing.py:718: in __call__\n    await route.handle(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\routing.py:276: in handle\n    await self.app(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\routing.py:66: in app\n    response = await func(request)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\routing.py:274: in app\n    raw_response = await run_endpoint_function(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\routing.py:191: in run_endpoint_function\n    return await dependant.call(**values)\napp\\routes\\auth_routes.py:16: in register_user\n    result = await auth_service.register_user(user_data)\nC:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\unittest\\mock.py:2240: in _execute_mock_call\n    raise effect\nE   Exception: User already exists\n__________________ TestAuthRoutes.test_login_patient_success __________________\ntests\\test_auth_routes.py:138: in test_login_patient_success\n    response = client.post(\"/auth/login\", json=login_data)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\testclient.py:590: in post\n    return super().post(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:1132: in post\n    return self.request(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\testclient.py:465: in request\n    return super().request(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:814: in request\n    return self.send(request, auth=auth, follow_redirects=follow_redirects)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:901: in send\n    response = self._send_handling_auth(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:929: in _send_handling_auth\n    response = self._send_handling_redirects(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:966: in _send_handling_redirects\n    response = self._send_single_request(request)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:1002: in _send_single_request\n    response = transport.handle_request(request)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\testclient.py:342: in handle_request\n    raise exc\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\testclient.py:339: in handle_request\n    portal.call(self.app, scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\anyio\\from_thread.py:277: in call\n    return cast(T_Retval, self.start_task_soon(func, *args).result())\nC:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py:449: in result\n    return self.__get_result()\nC:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py:401: in __get_result\n    raise self._exception\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\anyio\\from_thread.py:217: in _call_func\n    retval = await retval\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\applications.py:1106: in __call__\n    await super().__call__(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\applications.py:122: in __call__\n    await self.middleware_stack(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\errors.py:184: in __call__\n    raise exc\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\errors.py:162: in __call__\n    await self.app(scope, receive, _send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\cors.py:83: in __call__\n    await self.app(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\exceptions.py:79: in __call__\n    raise exc\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\exceptions.py:68: in __call__\n    await self.app(scope, receive, sender)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\middleware\\asyncexitstack.py:20: in __call__\n    raise e\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\middleware\\asyncexitstack.py:17: in __call__\n    await self.app(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\routing.py:718: in __call__\n    await route.handle(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\routing.py:276: in handle\n    await self.app(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\routing.py:66: in app\n    response = await func(request)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\routing.py:274: in app\n    raw_response = await run_endpoint_function(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\routing.py:191: in run_endpoint_function\n    return await dependant.call(**values)\napp\\routes\\auth_routes.py:44: in login_user\n    session_id=result[\"session_id\"]\nE   KeyError: 'session_id'\n__________________ TestAuthRoutes.test_login_doctor_success ___________________\ntests\\test_auth_routes.py:162: in test_login_doctor_success\n    response = client.post(\"/auth/login\", json=login_data)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\testclient.py:590: in post\n    return super().post(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:1132: in post\n    return self.request(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\testclient.py:465: in request\n    return super().request(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:814: in request\n    return self.send(request, auth=auth, follow_redirects=follow_redirects)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:901: in send\n    response = self._send_handling_auth(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:929: in _send_handling_auth\n    response = self._send_handling_redirects(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:966: in _send_handling_redirects\n    response = self._send_single_request(request)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:1002: in _send_single_request\n    response = transport.handle_request(request)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\testclient.py:342: in handle_request\n    raise exc\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\testclient.py:339: in handle_request\n    portal.call(self.app, scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\anyio\\from_thread.py:277: in call\n    return cast(T_Retval, self.start_task_soon(func, *args).result())\nC:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py:449: in result\n    return self.__get_result()\nC:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py:401: in __get_result\n    raise self._exception\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\anyio\\from_thread.py:217: in _call_func\n    retval = await retval\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\applications.py:1106: in __call__\n    await super().__call__(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\applications.py:122: in __call__\n    await self.middleware_stack(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\errors.py:184: in __call__\n    raise exc\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\errors.py:162: in __call__\n    await self.app(scope, receive, _send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\cors.py:83: in __call__\n    await self.app(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\exceptions.py:79: in __call__\n    raise exc\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\exceptions.py:68: in __call__\n    await self.app(scope, receive, sender)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\middleware\\asyncexitstack.py:20: in __call__\n    raise e\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\middleware\\asyncexitstack.py:17: in __call__\n    await self.app(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\routing.py:718: in __call__\n    await route.handle(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\routing.py:276: in handle\n    await self.app(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\routing.py:66: in app\n    response = await func(request)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\routing.py:274: in app\n    raw_response = await run_endpoint_function(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\routing.py:191: in run_endpoint_function\n    return await dependant.call(**values)\napp\\routes\\auth_routes.py:44: in login_user\n    session_id=result[\"session_id\"]\nE   KeyError: 'session_id'\n____________________ TestAuthRoutes.test_login_with_email _____________________\ntests\\test_auth_routes.py:183: in test_login_with_email\n    response = client.post(\"/auth/login\", json=login_data)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\testclient.py:590: in post\n    return super().post(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:1132: in post\n    return self.request(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\testclient.py:465: in request\n    return super().request(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:814: in request\n    return self.send(request, auth=auth, follow_redirects=follow_redirects)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:901: in send\n    response = self._send_handling_auth(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:929: in _send_handling_auth\n    response = self._send_handling_redirects(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:966: in _send_handling_redirects\n    response = self._send_single_request(request)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:1002: in _send_single_request\n    response = transport.handle_request(request)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\testclient.py:342: in handle_request\n    raise exc\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\testclient.py:339: in handle_request\n    portal.call(self.app, scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\anyio\\from_thread.py:277: in call\n    return cast(T_Retval, self.start_task_soon(func, *args).result())\nC:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py:449: in result\n    return self.__get_result()\nC:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py:401: in __get_result\n    raise self._exception\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\anyio\\from_thread.py:217: in _call_func\n    retval = await retval\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\applications.py:1106: in __call__\n    await super().__call__(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\applications.py:122: in __call__\n    await self.middleware_stack(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\errors.py:184: in __call__\n    raise exc\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\errors.py:162: in __call__\n    await self.app(scope, receive, _send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\cors.py:83: in __call__\n    await self.app(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\exceptions.py:79: in __call__\n    raise exc\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\exceptions.py:68: in __call__\n    await self.app(scope, receive, sender)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\middleware\\asyncexitstack.py:20: in __call__\n    raise e\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\middleware\\asyncexitstack.py:17: in __call__\n    await self.app(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\routing.py:718: in __call__\n    await route.handle(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\routing.py:276: in handle\n    await self.app(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\routing.py:66: in app\n    response = await func(request)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\routing.py:274: in app\n    raw_response = await run_endpoint_function(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\routing.py:191: in run_endpoint_function\n    return await dependant.call(**values)\napp\\routes\\auth_routes.py:44: in login_user\n    session_id=result[\"session_id\"]\nE   KeyError: 'session_id'\n________________ TestAuthRoutes.test_login_invalid_credentials ________________\ntests\\test_auth_routes.py:198: in test_login_invalid_credentials\n    response = client.post(\"/auth/login\", json=login_data)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\testclient.py:590: in post\n    return super().post(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:1132: in post\n    return self.request(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\testclient.py:465: in request\n    return super().request(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:814: in request\n    return self.send(request, auth=auth, follow_redirects=follow_redirects)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:901: in send\n    response = self._send_handling_auth(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:929: in _send_handling_auth\n    response = self._send_handling_redirects(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:966: in _send_handling_redirects\n    response = self._send_single_request(request)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:1002: in _send_single_request\n    response = transport.handle_request(request)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\testclient.py:342: in handle_request\n    raise exc\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\testclient.py:339: in handle_request\n    portal.call(self.app, scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\anyio\\from_thread.py:277: in call\n    return cast(T_Retval, self.start_task_soon(func, *args).result())\nC:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py:449: in result\n    return self.__get_result()\nC:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py:401: in __get_result\n    raise self._exception\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\anyio\\from_thread.py:217: in _call_func\n    retval = await retval\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\applications.py:1106: in __call__\n    await super().__call__(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\applications.py:122: in __call__\n    await self.middleware_stack(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\errors.py:184: in __call__\n    raise exc\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\errors.py:162: in __call__\n    await self.app(scope, receive, _send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\cors.py:83: in __call__\n    await self.app(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\exceptions.py:79: in __call__\n    raise exc\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\exceptions.py:68: in __call__\n    await self.app(scope, receive, sender)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\middleware\\asyncexitstack.py:20: in __call__\n    raise e\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\middleware\\asyncexitstack.py:17: in __call__\n    await self.app(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\routing.py:718: in __call__\n    await route.handle(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\routing.py:276: in handle\n    await self.app(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\routing.py:66: in app\n    response = await func(request)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\routing.py:274: in app\n    raw_response = await run_endpoint_function(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\routing.py:191: in run_endpoint_function\n    return await dependant.call(**values)\napp\\routes\\auth_routes.py:38: in login_user\n    result = await auth_service.authenticate_user(credentials.username, credentials.password)\nC:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\unittest\\mock.py:2240: in _execute_mock_call\n    raise effect\nE   Exception: Invalid credentials\n=========================== short test summary info ===========================\nFAILED tests/test_auth_routes.py::TestAuthRoutes::test_register_service_error\nFAILED tests/test_auth_routes.py::TestAuthRoutes::test_login_patient_success\nFAILED tests/test_auth_routes.py::TestAuthRoutes::test_login_doctor_success\nFAILED tests/test_auth_routes.py::TestAuthRoutes::test_login_with_email - Key...\nFAILED tests/test_auth_routes.py::TestAuthRoutes::test_login_invalid_credentials\n======================== 5 failed, 12 passed in 3.81s =========================\n"
    },
    "auth_service": {
      "status": "ERROR",
      "passed": 0,
      "failed": 0,
      "total": 0,
      "error": "",
      "output": "============================= test session starts =============================\nplatform win32 -- Python 3.11.9, pytest-7.4.3, pluggy-1.6.0 -- C:\\Users\\LogicalMinds\\AppData\\Local\\Microsoft\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\python.exe\ncachedir: .pytest_cache\nrootdir: E:\\practice\\mobile-patient-backend\\patient-auth-service\nconfigfile: pytest.ini\nplugins: anyio-3.7.1, langsmith-0.4.8, asyncio-0.21.1, cov-4.1.0\nasyncio: mode=Mode.STRICT\ncollecting ... collected 17 items\n\ntests/test_auth_service.py::TestAuthService::test_register_patient_success ERROR [  5%]\ntests/test_auth_service.py::TestAuthService::test_register_doctor_success ERROR [ 11%]\ntests/test_auth_service.py::TestAuthService::test_register_invalid_user_type ERROR [ 17%]\ntests/test_auth_service.py::TestAuthService::test_register_existing_user ERROR [ 23%]\ntests/test_auth_service.py::TestAuthService::test_authenticate_patient_success ERROR [ 29%]\ntests/test_auth_service.py::TestAuthService::test_authenticate_doctor_success ERROR [ 35%]\ntests/test_auth_service.py::TestAuthService::test_authenticate_with_email ERROR [ 41%]\ntests/test_auth_service.py::TestAuthService::test_authenticate_user_not_found ERROR [ 47%]\ntests/test_auth_service.py::TestAuthService::test_authenticate_unverified_user ERROR [ 52%]\ntests/test_auth_service.py::TestAuthService::test_authenticate_wrong_password ERROR [ 58%]\ntests/test_auth_service.py::TestAuthService::test_generate_otp_success ERROR [ 64%]\ntests/test_auth_service.py::TestAuthService::test_generate_otp_user_not_found ERROR [ 70%]\ntests/test_auth_service.py::TestAuthService::test_verify_otp_success ERROR [ 76%]\ntests/test_auth_service.py::TestAuthService::test_verify_otp_invalid ERROR [ 82%]\ntests/test_auth_service.py::TestAuthService::test_generate_patient_id ERROR [ 88%]\ntests/test_auth_service.py::TestAuthService::test_generate_doctor_id ERROR [ 94%]\ntests/test_auth_service.py::TestAuthService::test_generate_invalid_user_type_id ERROR [100%]\n\n=================================== ERRORS ====================================\n_______ ERROR at setup of TestAuthService.test_register_patient_success _______\ntests\\test_auth_service.py:26: in auth_service\n    service = AuthService()\napp\\services\\auth_service.py:19: in __init__\n    self.doctors_collection = self.db[settings.doctors_collection_name]\nE   KeyError: 'doctor_v2'\n_______ ERROR at setup of TestAuthService.test_register_doctor_success ________\ntests\\test_auth_service.py:26: in auth_service\n    service = AuthService()\napp\\services\\auth_service.py:19: in __init__\n    self.doctors_collection = self.db[settings.doctors_collection_name]\nE   KeyError: 'doctor_v2'\n______ ERROR at setup of TestAuthService.test_register_invalid_user_type ______\ntests\\test_auth_service.py:26: in auth_service\n    service = AuthService()\napp\\services\\auth_service.py:19: in __init__\n    self.doctors_collection = self.db[settings.doctors_collection_name]\nE   KeyError: 'doctor_v2'\n________ ERROR at setup of TestAuthService.test_register_existing_user ________\ntests\\test_auth_service.py:26: in auth_service\n    service = AuthService()\napp\\services\\auth_service.py:19: in __init__\n    self.doctors_collection = self.db[settings.doctors_collection_name]\nE   KeyError: 'doctor_v2'\n_____ ERROR at setup of TestAuthService.test_authenticate_patient_success _____\ntests\\test_auth_service.py:26: in auth_service\n    service = AuthService()\napp\\services\\auth_service.py:19: in __init__\n    self.doctors_collection = self.db[settings.doctors_collection_name]\nE   KeyError: 'doctor_v2'\n_____ ERROR at setup of TestAuthService.test_authenticate_doctor_success ______\ntests\\test_auth_service.py:26: in auth_service\n    service = AuthService()\napp\\services\\auth_service.py:19: in __init__\n    self.doctors_collection = self.db[settings.doctors_collection_name]\nE   KeyError: 'doctor_v2'\n_______ ERROR at setup of TestAuthService.test_authenticate_with_email ________\ntests\\test_auth_service.py:26: in auth_service\n    service = AuthService()\napp\\services\\auth_service.py:19: in __init__\n    self.doctors_collection = self.db[settings.doctors_collection_name]\nE   KeyError: 'doctor_v2'\n_____ ERROR at setup of TestAuthService.test_authenticate_user_not_found ______\ntests\\test_auth_service.py:26: in auth_service\n    service = AuthService()\napp\\services\\auth_service.py:19: in __init__\n    self.doctors_collection = self.db[settings.doctors_collection_name]\nE   KeyError: 'doctor_v2'\n_____ ERROR at setup of TestAuthService.test_authenticate_unverified_user _____\ntests\\test_auth_service.py:26: in auth_service\n    service = AuthService()\napp\\services\\auth_service.py:19: in __init__\n    self.doctors_collection = self.db[settings.doctors_collection_name]\nE   KeyError: 'doctor_v2'\n_____ ERROR at setup of TestAuthService.test_authenticate_wrong_password ______\ntests\\test_auth_service.py:26: in auth_service\n    service = AuthService()\napp\\services\\auth_service.py:19: in __init__\n    self.doctors_collection = self.db[settings.doctors_collection_name]\nE   KeyError: 'doctor_v2'\n_________ ERROR at setup of TestAuthService.test_generate_otp_success _________\ntests\\test_auth_service.py:26: in auth_service\n    service = AuthService()\napp\\services\\auth_service.py:19: in __init__\n    self.doctors_collection = self.db[settings.doctors_collection_name]\nE   KeyError: 'doctor_v2'\n_____ ERROR at setup of TestAuthService.test_generate_otp_user_not_found ______\ntests\\test_auth_service.py:26: in auth_service\n    service = AuthService()\napp\\services\\auth_service.py:19: in __init__\n    self.doctors_collection = self.db[settings.doctors_collection_name]\nE   KeyError: 'doctor_v2'\n__________ ERROR at setup of TestAuthService.test_verify_otp_success __________\ntests\\test_auth_service.py:26: in auth_service\n    service = AuthService()\napp\\services\\auth_service.py:19: in __init__\n    self.doctors_collection = self.db[settings.doctors_collection_name]\nE   KeyError: 'doctor_v2'\n__________ ERROR at setup of TestAuthService.test_verify_otp_invalid __________\ntests\\test_auth_service.py:26: in auth_service\n    service = AuthService()\napp\\services\\auth_service.py:19: in __init__\n    self.doctors_collection = self.db[settings.doctors_collection_name]\nE   KeyError: 'doctor_v2'\n_________ ERROR at setup of TestAuthService.test_generate_patient_id __________\ntests\\test_auth_service.py:26: in auth_service\n    service = AuthService()\napp\\services\\auth_service.py:19: in __init__\n    self.doctors_collection = self.db[settings.doctors_collection_name]\nE   KeyError: 'doctor_v2'\n__________ ERROR at setup of TestAuthService.test_generate_doctor_id __________\ntests\\test_auth_service.py:26: in auth_service\n    service = AuthService()\napp\\services\\auth_service.py:19: in __init__\n    self.doctors_collection = self.db[settings.doctors_collection_name]\nE   KeyError: 'doctor_v2'\n____ ERROR at setup of TestAuthService.test_generate_invalid_user_type_id _____\ntests\\test_auth_service.py:26: in auth_service\n    service = AuthService()\napp\\services\\auth_service.py:19: in __init__\n    self.doctors_collection = self.db[settings.doctors_collection_name]\nE   KeyError: 'doctor_v2'\n=========================== short test summary info ===========================\nERROR tests/test_auth_service.py::TestAuthService::test_register_patient_success\nERROR tests/test_auth_service.py::TestAuthService::test_register_doctor_success\nERROR tests/test_auth_service.py::TestAuthService::test_register_invalid_user_type\nERROR tests/test_auth_service.py::TestAuthService::test_register_existing_user\nERROR tests/test_auth_service.py::TestAuthService::test_authenticate_patient_success\nERROR tests/test_auth_service.py::TestAuthService::test_authenticate_doctor_success\nERROR tests/test_auth_service.py::TestAuthService::test_authenticate_with_email\nERROR tests/test_auth_service.py::TestAuthService::test_authenticate_user_not_found\nERROR tests/test_auth_service.py::TestAuthService::test_authenticate_unverified_user\nERROR tests/test_auth_service.py::TestAuthService::test_authenticate_wrong_password\nERROR tests/test_auth_service.py::TestAuthService::test_generate_otp_success\nERROR tests/test_auth_service.py::TestAuthService::test_generate_otp_user_not_found\nERROR tests/test_auth_service.py::TestAuthService::test_verify_otp_success - ...\nERROR tests/test_auth_service.py::TestAuthService::test_verify_otp_invalid - ...\nERROR tests/test_auth_service.py::TestAuthService::test_generate_patient_id\nERROR tests/test_auth_service.py::TestAuthService::test_generate_doctor_id - ...\nERROR tests/test_auth_service.py::TestAuthService::test_generate_invalid_user_type_id\n============================= 17 errors in 1.44s ==============================\n"
    },
    "integration": {
      "status": "ERROR",
      "passed": 0,
      "failed": 0,
      "total": 0,
      "error": "",
      "output": "============================= test session starts =============================\nplatform win32 -- Python 3.11.9, pytest-7.4.3, pluggy-1.6.0 -- C:\\Users\\LogicalMinds\\AppData\\Local\\Microsoft\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\python.exe\ncachedir: .pytest_cache\nrootdir: E:\\practice\\mobile-patient-backend\\patient-auth-service\nconfigfile: pytest.ini\nplugins: anyio-3.7.1, langsmith-0.4.8, asyncio-0.21.1, cov-4.1.0\nasyncio: mode=Mode.STRICT\ncollecting ... collected 7 items\n\ntests/test_integration.py::TestIntegration::test_complete_patient_registration_flow FAILED [ 14%]\ntests/test_integration.py::TestIntegration::test_complete_doctor_registration_flow FAILED [ 28%]\ntests/test_integration.py::TestIntegration::test_complete_password_reset_flow FAILED [ 42%]\ntests/test_integration.py::TestIntegration::test_login_with_different_identifiers FAILED [ 57%]\ntests/test_integration.py::TestIntegration::test_api_documentation_accessible PASSED [ 71%]\ntests/test_integration.py::TestIntegration::test_openapi_schema PASSED   [ 85%]\ntests/test_integration.py::TestIntegration::test_error_handling_flow FAILED [100%]\n\n================================== FAILURES ===================================\n___________ TestIntegration.test_complete_patient_registration_flow ___________\ntests\\test_integration.py:41: in test_complete_patient_registration_flow\n    response = client.post(\"/auth/register\", json=patient_data)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\testclient.py:590: in post\n    return super().post(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:1132: in post\n    return self.request(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\testclient.py:465: in request\n    return super().request(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:814: in request\n    return self.send(request, auth=auth, follow_redirects=follow_redirects)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:901: in send\n    response = self._send_handling_auth(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:929: in _send_handling_auth\n    response = self._send_handling_redirects(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:966: in _send_handling_redirects\n    response = self._send_single_request(request)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:1002: in _send_single_request\n    response = transport.handle_request(request)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\testclient.py:342: in handle_request\n    raise exc\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\testclient.py:339: in handle_request\n    portal.call(self.app, scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\anyio\\from_thread.py:277: in call\n    return cast(T_Retval, self.start_task_soon(func, *args).result())\nC:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py:456: in result\n    return self.__get_result()\nC:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py:401: in __get_result\n    raise self._exception\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\anyio\\from_thread.py:217: in _call_func\n    retval = await retval\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\applications.py:1106: in __call__\n    await super().__call__(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\applications.py:122: in __call__\n    await self.middleware_stack(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\errors.py:184: in __call__\n    raise exc\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\errors.py:162: in __call__\n    await self.app(scope, receive, _send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\cors.py:83: in __call__\n    await self.app(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\exceptions.py:79: in __call__\n    raise exc\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\exceptions.py:68: in __call__\n    await self.app(scope, receive, sender)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\middleware\\asyncexitstack.py:20: in __call__\n    raise e\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\middleware\\asyncexitstack.py:17: in __call__\n    await self.app(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\routing.py:718: in __call__\n    await route.handle(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\routing.py:276: in handle\n    await self.app(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\routing.py:66: in app\n    response = await func(request)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\routing.py:274: in app\n    raw_response = await run_endpoint_function(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\routing.py:191: in run_endpoint_function\n    return await dependant.call(**values)\napp\\routes\\auth_routes.py:16: in register_user\n    result = await auth_service.register_user(user_data)\napp\\services\\auth_service.py:78: in register_user\n    raise UserExistsError(\nE   app.utils.exceptions.UserExistsError: Registration is pending for this email/username. Please verify OTP or wait 29.4 minutes for expiration.\n___________ TestIntegration.test_complete_doctor_registration_flow ____________\ntests\\test_integration.py:133: in test_complete_doctor_registration_flow\n    response = client.post(\"/auth/login\", json=login_data)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\testclient.py:590: in post\n    return super().post(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:1132: in post\n    return self.request(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\testclient.py:465: in request\n    return super().request(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:814: in request\n    return self.send(request, auth=auth, follow_redirects=follow_redirects)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:901: in send\n    response = self._send_handling_auth(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:929: in _send_handling_auth\n    response = self._send_handling_redirects(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:966: in _send_handling_redirects\n    response = self._send_single_request(request)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:1002: in _send_single_request\n    response = transport.handle_request(request)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\testclient.py:342: in handle_request\n    raise exc\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\testclient.py:339: in handle_request\n    portal.call(self.app, scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\anyio\\from_thread.py:277: in call\n    return cast(T_Retval, self.start_task_soon(func, *args).result())\nC:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py:456: in result\n    return self.__get_result()\nC:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py:401: in __get_result\n    raise self._exception\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\anyio\\from_thread.py:217: in _call_func\n    retval = await retval\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\applications.py:1106: in __call__\n    await super().__call__(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\applications.py:122: in __call__\n    await self.middleware_stack(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\errors.py:184: in __call__\n    raise exc\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\errors.py:162: in __call__\n    await self.app(scope, receive, _send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\cors.py:83: in __call__\n    await self.app(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\exceptions.py:79: in __call__\n    raise exc\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\exceptions.py:68: in __call__\n    await self.app(scope, receive, sender)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\middleware\\asyncexitstack.py:20: in __call__\n    raise e\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\middleware\\asyncexitstack.py:17: in __call__\n    await self.app(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\routing.py:718: in __call__\n    await route.handle(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\routing.py:276: in handle\n    await self.app(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\routing.py:66: in app\n    response = await func(request)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\routing.py:274: in app\n    raw_response = await run_endpoint_function(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\routing.py:191: in run_endpoint_function\n    return await dependant.call(**values)\napp\\routes\\auth_routes.py:38: in login_user\n    result = await auth_service.authenticate_user(credentials.username, credentials.password)\napp\\services\\auth_service.py:149: in authenticate_user\n    raise AuthenticationError(\"Invalid credentials\")\nE   app.utils.exceptions.AuthenticationError: Invalid credentials\n______________ TestIntegration.test_complete_password_reset_flow ______________\ntests\\test_integration.py:159: in test_complete_password_reset_flow\n    assert response.status_code == 200\nE   assert 400 == 200\nE    +  where 400 = <Response [400 Bad Request]>.status_code\n____________ TestIntegration.test_login_with_different_identifiers ____________\ntests\\test_integration.py:201: in test_login_with_different_identifiers\n    response = client.post(\"/auth/login\", json={\"username\": \"PAT12345678\", \"password\": \"pass\"})\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\testclient.py:590: in post\n    return super().post(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:1132: in post\n    return self.request(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\testclient.py:465: in request\n    return super().request(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:814: in request\n    return self.send(request, auth=auth, follow_redirects=follow_redirects)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:901: in send\n    response = self._send_handling_auth(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:929: in _send_handling_auth\n    response = self._send_handling_redirects(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:966: in _send_handling_redirects\n    response = self._send_single_request(request)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\httpx\\_client.py:1002: in _send_single_request\n    response = transport.handle_request(request)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\testclient.py:342: in handle_request\n    raise exc\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\testclient.py:339: in handle_request\n    portal.call(self.app, scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\anyio\\from_thread.py:277: in call\n    return cast(T_Retval, self.start_task_soon(func, *args).result())\nC:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py:456: in result\n    return self.__get_result()\nC:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py:401: in __get_result\n    raise self._exception\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\anyio\\from_thread.py:217: in _call_func\n    retval = await retval\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\applications.py:1106: in __call__\n    await super().__call__(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\applications.py:122: in __call__\n    await self.middleware_stack(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\errors.py:184: in __call__\n    raise exc\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\errors.py:162: in __call__\n    await self.app(scope, receive, _send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\cors.py:83: in __call__\n    await self.app(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\exceptions.py:79: in __call__\n    raise exc\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\middleware\\exceptions.py:68: in __call__\n    await self.app(scope, receive, sender)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\middleware\\asyncexitstack.py:20: in __call__\n    raise e\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\middleware\\asyncexitstack.py:17: in __call__\n    await self.app(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\routing.py:718: in __call__\n    await route.handle(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\routing.py:276: in handle\n    await self.app(scope, receive, send)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\routing.py:66: in app\n    response = await func(request)\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\routing.py:274: in app\n    raw_response = await run_endpoint_function(\nC:\\Users\\LogicalMinds\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\fastapi\\routing.py:191: in run_endpoint_function\n    return await dependant.call(**values)\napp\\routes\\auth_routes.py:38: in login_user\n    result = await auth_service.authenticate_user(credentials.username, credentials.password)\napp\\services\\auth_service.py:149: in authenticate_user\n    raise AuthenticationError(\"Invalid credentials\")\nE   app.utils.exceptions.AuthenticationError: Invalid credentials\n__________________ TestIntegration.test_error_handling_flow ___________________\ntests\\test_integration.py:253: in test_error_handling_flow\n    assert response.status_code == 400\nE   assert 200 == 400\nE    +  where 200 = <Response [200 OK]>.status_code\n=========================== short test summary info ===========================\nFAILED tests/test_integration.py::TestIntegration::test_complete_patient_registration_flow\nFAILED tests/test_integration.py::TestIntegration::test_complete_doctor_registration_flow\nFAILED tests/test_integration.py::TestIntegration::test_complete_password_reset_flow\nFAILED tests/test_integration.py::TestIntegration::test_login_with_different_identifiers\nFAILED tests/test_integration.py::TestIntegration::test_error_handling_flow\n========================= 5 failed, 2 passed in 9.09s =========================\n"
    }
  },
  "coverage": {
    "status": "ERROR",
    "error": ""
  },
  "summary": {
    "total_tests": 12,
    "total_passed": 12,
    "total_failed": 0,
    "success_rate": 100.0,
    "status": "PASSED"
  }
}